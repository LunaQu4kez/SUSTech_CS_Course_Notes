# 23F CS207 期末回忆版

亲测期末只考理论课讲的，lab课如果时间不够可以不复习。

## Part 1 单选（20题*2.5分=50分）

考察了一些细节，但也不算很犄角旮旯的细节，总体难度不大。

下面是感觉有一点不确定的题目，但总体难度还是简单的：

1、下面的查询返回`true`还是`false`？

```sql
select date_ge_timestamp(date('2022-12-31'), timestamp '2022-12-31 00:00:00')
```

2、下面哪一个不属于半结构化数据？

A. JSON 

B. xml

C. tables in database

D. binary executables

## Part 2 手写sql（5题*3分=15分）

手写 sql 听起来吓人，实际上考的不难

给 3 个表，共 5 道题，分别问：

1、写一个单表查询的sql

2、写出第 1 问的查询对应的关系代数表达式

3、往一个表里插入一条新数据，更新一个表

4、使用聚合函数的查询

5、使用窗口函数的查询

## Part 3 根据给定的DQL写出查询结果（4题*3分=12分）

前 3 个很简单，最后 1 个有点长，难度中等。

耐心点一层一层看，做出来是完全没问题的。

## Part 4 设计（11分）

给定 3 个实体，并叙述了他们之间的关系，根据这些画出 E-R 图。

感觉读题仔细一点没什么问题，不过最好按照 lecture 教的 E-R 图标准来画。

## Part 5 事务（2题*6分=12分）

两道题，每题都有 2 小问，各 3 分。

每道题都是，给出 1 个共有 3 个事务的 schedule，每个事务有 read 和 write 不同的数据的操作（跟 lecture 讲的一样）。

第 1 问要画出这个 schedule 的 precedence graph，第 2 问是问这个 schedule 可不可以冲突序列化，并说明原因。